{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Modal/Modal.module.css","App.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/Modal/Modal.jsx","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","services/pixabay-api.jsx","App.js","index.js"],"names":["module","exports","Modal","handleKeyDown","event","code","props","onClose","handleOverlayClick","currentTarget","target","window","addEventListener","this","removeEventListener","createPortal","className","styles","Overlay","onClick","children","document","querySelector","Component","Searchbar","state","searchQuery","handleSearchQueryChange","setState","value","toLowerCase","handleSubmit","preventDefault","trim","onSubmit","toast","error","SearchForm","type","SearchForm__button","SearchForm__button_label","SearchForm__input","autoComplete","autoFocus","placeholder","onChange","ImageGallery","images","onOpenModal","map","image","ImageGalleryItem","height","ImageGalleryItem__image","src","webformatURL","alt","tags","id","LoadMoreBtn","onLoadMore","Button","BASE_URL","API_KEY","fetchImages","page","a","searchParams","URLSearchParams","key","orientation","image_type","q","per_page","axios","get","then","response","data","hits","propTypes","PropTypes","string","number","App","showModal","status","currImg","toggleModal","currentImage","incrementPage","prevState","handleSearchbarFormSubmit","scrollToBottom","scroll","prevProps","PixabayApiService","articles","catch","message","length","color","width","largeImageURL","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3cc7ed8c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__30xkQ\",\"ImageGalleryItem__image\":\"ImageGallery_ImageGalleryItem__image__2F6BC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__16ZpL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchForm__button\":\"Searchbar_SearchForm__button__wM7NY\",\"SearchForm__button_label\":\"Searchbar_SearchForm__button_label__lQViY\",\"SearchForm__input\":\"Searchbar_SearchForm__input__1-9Kh\"};","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport styles from './Modal.module.css';\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = event => {\n    event.code === 'Escape' && this.props.onClose();\n  };\n\n  handleOverlayClick = event => {\n    event.currentTarget === event.target && this.props.onClose();\n  };\n\n  render() {\n    return createPortal(\n      <div className={styles.Overlay} onClick={this.handleOverlayClick}>\n        <div className={styles.Modal}>{this.props.children}</div>\n      </div>,\n      document.querySelector('#modal-root'),\n    );\n  }\n}\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\nimport { AiOutlineSearch } from 'react-icons/ai';\nimport styles from './Searchbar.module.css';\n\nexport default class Searchbar extends Component {\n  static propTypes = { searchQuery: PropTypes.string };\n\n  state = { searchQuery: '' };\n\n  handleSearchQueryChange = event => {\n    this.setState({ searchQuery: event.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    if (this.state.searchQuery.trim() !== '') {\n      this.props.onSubmit(this.state.searchQuery);\n      this.setState({ searchQuery: '' });\n    } else toast.error('Input field must not be empty');\n  };\n\n  render() {\n    return (\n      <header className={styles.Searchbar}>\n        <form onSubmit={this.handleSubmit} className={styles.SearchForm}>\n          <button type=\"submit\" className={styles.SearchForm__button}>\n            <span className={styles.SearchForm__button_label}>Search</span>\n            <AiOutlineSearch />\n          </button>\n\n          <input\n            className={styles.SearchForm__input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.searchQuery}\n            onChange={this.handleSearchQueryChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import styles from './ImageGallery.module.css';\n\nexport default function ImageGallery({ images, onOpenModal }) {\n  return (\n    <ul className={styles.ImageGallery}>\n      {images.map(image => (\n        <li\n          key={image.id}\n          onClick={() => {\n            onOpenModal(image);\n          }}\n          className={styles.ImageGalleryItem}\n        >\n          <img\n            height={260}\n            className={styles.ImageGalleryItem__image}\n            src={image.webformatURL}\n            alt={image.tags}\n          />\n        </li>\n      ))}\n    </ul>\n  );\n}\n","import styles from './Button.module.css';\n\nexport default function LoadMoreBtn({ onLoadMore }) {\n  return (\n    <button onClick={onLoadMore} type=\"button\" className={styles.Button}>\n      load more\n    </button>\n  );\n}\n","import axios from 'axios';\nimport PropTypes from 'prop-types';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '23902495-d255dd7217da8bb07f7abae59';\n\nexport default async function fetchImages(searchQuery, page) {\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    orientation: 'horizontal',\n    image_type: 'photo',\n    q: searchQuery,\n    page: page,\n    per_page: 12,\n  });\n\n  return await axios.get(`${BASE_URL}?${searchParams}`).then(response => {\n    return response.data.hits;\n  });\n}\n\nfetchImages.propTypes = {\n  searchQuery: PropTypes.string,\n  page: PropTypes.number,\n};\n","import styles from './App.module.css';\nimport { Component } from 'react';\nimport { animateScroll as scroll } from 'react-scroll';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Loader from 'react-loader-spinner';\nimport Modal from './components/Modal';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport PixabayApiService from './services/pixabay-api';\n\nexport default class App extends Component {\n  static propTypes = {};\n\n  state = {\n    searchQuery: '',\n    showModal: false,\n    page: 1,\n    images: [],\n    error: null,\n    status: 'idle',\n    currImg: {},\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchQuery, page } = this.state;\n\n    if (prevState.searchQuery !== searchQuery) {\n      this.setState({ status: 'pending', page: 1 });\n\n      PixabayApiService(searchQuery)\n        .then(articles =>\n          this.setState({\n            images: articles,\n            status: 'resolved',\n          }),\n        )\n        .catch(error => this.setState({ error, status: 'rejected' }));\n\n      scroll.scrollToBottom();\n    }\n\n    if (prevState.page !== page) {\n      this.setState({ status: 'pending' });\n\n      PixabayApiService(searchQuery, page)\n        .then(articles =>\n          this.setState(prevState => ({\n            images: [...prevState.images, ...articles],\n            status: 'resolved',\n          })),\n        )\n        .catch(error => {\n          this.setState({ error, status: 'rejected' });\n          toast.error(`${searchQuery} no found`);\n        });\n\n      scroll.scrollToBottom();\n    }\n  }\n\n  toggleModal = event => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      currentImage: event,\n    }));\n  };\n\n  incrementPage = () => {\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }));\n  };\n\n  handleSearchbarFormSubmit = searchQuery => {\n    this.setState({ searchQuery });\n  };\n\n  scrollToBottom = () => {\n    scroll.scrollToBottom();\n  };\n\n  render() {\n    const { images, error, status, currImg, searchQuery } = this.state;\n\n    return (\n      <div className={styles.App}>\n        <Searchbar onSubmit={this.handleSearchbarFormSubmit} />\n        {status === 'idle' && <div>Free images</div>}\n\n        {status === 'rejected' && <h1>{error.message}</h1>}\n\n        {status === 'resolved' && (\n          <>\n            <ImageGallery images={images} onOpenModal={this.toggleModal} />\n            {images.length !== 0 && <Button onLoadMore={this.incrementPage} />}\n            {images.length === 0 && <div>{searchQuery} no found</div>}\n          </>\n        )}\n\n        {status === 'pending' && (\n          <>\n            <ImageGallery images={images} onOpenModal={this.toggleModal} />\n            <Loader type=\"ThreeDots\" color=\"#3f51b5\" height={80} width={80} />\n          </>\n        )}\n\n        {this.state.showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={currImg.largeImageURL} alt={currImg.tags} />\n          </Modal>\n        )}\n        <ToastContainer autoClose={3000} />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}