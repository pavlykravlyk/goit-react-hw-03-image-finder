{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Modal/Modal.module.css","App.module.css","components/Button/Button.module.css","components/Modal/Modal.jsx","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Modal","handleKeyDown","event","code","props","onClose","handleOverlayClick","currentTarget","target","window","addEventListener","this","removeEventListener","createPortal","className","styles","Overlay","onClick","children","document","querySelector","Component","Searchbar","state","searchQuery","handleSearchQueryChange","setState","value","toLowerCase","handleSubmit","preventDefault","trim","onSubmit","toast","error","SearchForm","type","SearchForm__button","SearchForm__button_label","SearchForm__input","autoComplete","autoFocus","placeholder","onChange","ImageGallery","images","onOpenModal","map","image","ImageGalleryItem","ImageGalleryItem__image","src","webformatURL","alt","tags","id","LoadMoreBtn","onLoadMore","Button","BASE_URL","API_KEY","App","showModal","page","status","currentImage","fetchImages","a","searchParams","URLSearchParams","image_type","orientation","q","per_page","key","fetch","response","ok","json","articles","prevState","hits","Promise","reject","Error","toggleModal","incrementPage","handleSearchbarFormSubmit","scrollToBottom","scroll","prevProps","smooth","message","color","height","width","largeImageURL","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c04069af.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__30xkQ\",\"ImageGalleryItem__image\":\"ImageGallery_ImageGalleryItem__image__2F6BC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__16ZpL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport styles from './Modal.module.css';\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = event => {\n    event.code === 'Escape' && this.props.onClose();\n  };\n\n  handleOverlayClick = event => {\n    event.currentTarget === event.target && this.props.onClose();\n  };\n\n  render() {\n    return createPortal(\n      <div className={styles.Overlay} onClick={this.handleOverlayClick}>\n        <div className={styles.Modal}>{this.props.children}</div>\n      </div>,\n      document.querySelector('#modal-root'),\n    );\n  }\n}\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\nimport { AiOutlineSearch } from 'react-icons/ai';\nimport styles from './Searchbar.module.css';\n\nexport default class Searchbar extends Component {\n  static propTypes = { searchQuery: PropTypes.string };\n\n  state = { searchQuery: '' };\n\n  handleSearchQueryChange = event => {\n    this.setState({ searchQuery: event.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    if (this.state.searchQuery.trim() !== '') {\n      this.props.onSubmit(this.state.searchQuery);\n      this.setState({ searchQuery: '' });\n    } else toast.error('Input field must not be empty');\n  };\n\n  render() {\n    return (\n      <header className={styles.Searchbar}>\n        <form onSubmit={this.handleSubmit} className={styles.SearchForm}>\n          <button type=\"submit\" className={styles.SearchForm__button}>\n            <span className={styles.SearchForm__button_label}>Search</span>\n            <AiOutlineSearch />\n          </button>\n\n          <input\n            className={styles.SearchForm__input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.searchQuery}\n            onChange={this.handleSearchQueryChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import styles from './ImageGallery.module.css';\n\nexport default function ImageGallery({ images, onOpenModal }) {\n  return (\n    <ul className={styles.ImageGallery}>\n      {images.map(image => (\n        <li\n          key={image.id}\n          onClick={() => {\n            onOpenModal(image);\n          }}\n          className={styles.ImageGalleryItem}\n        >\n          <img\n            className={styles.ImageGalleryItem__image}\n            src={image.webformatURL}\n            alt={image.tags}\n          />\n        </li>\n      ))}\n    </ul>\n  );\n}\n","import styles from './Button.module.css';\n\nexport default function LoadMoreBtn({ onLoadMore }) {\n  return (\n    <button onClick={onLoadMore} type=\"button\" className={styles.Button}>\n      load more\n    </button>\n  );\n}\n","import styles from './App.module.css';\nimport { Component } from 'react';\nimport { animateScroll as scroll } from 'react-scroll';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Loader from 'react-loader-spinner';\nimport Modal from './components/Modal';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\n// import PixabayApiService from './services/pixabay-api';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '23902495-d255dd7217da8bb07f7abae59';\n\nexport default class App extends Component {\n  state = {\n    searchQuery: '',\n    showModal: false,\n    page: 1,\n    images: [],\n    error: null,\n    status: 'idle',\n    currentImage: {},\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.setState({ status: 'pending', page: 1, images: [] });\n      this.fetchImages();\n      scroll.scrollToBottom({ smooth: true });\n    }\n\n    if (prevState.page !== this.state.page) {\n      this.setState({ status: 'pending' });\n      this.fetchImages();\n      scroll.scrollToBottom({ smooth: true });\n    }\n  }\n\n  fetchImages = async () => {\n    const searchParams = new URLSearchParams({\n      image_type: 'photo',\n      orientation: 'horizontal',\n      q: this.state.searchQuery,\n      page: this.state.page,\n      per_page: 12,\n      key: API_KEY,\n    });\n\n    try {\n      const response = await fetch(`${BASE_URL}?${searchParams}`);\n      if (response.ok) {\n        const articles = await response.json();\n        this.setState(prevState => ({\n          images: [...prevState.images, ...articles.hits],\n          status: 'resolved',\n        }));\n      } else {\n        return Promise.reject(\n          new Error(`No matches found for ${this.props.searchQuery}`),\n        );\n      }\n    } catch (error) {\n      this.setState({ error, status: 'rejected' });\n      toast.error('Input field must not be empty');\n    }\n  };\n\n  toggleModal = event => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      currentImage: event,\n    }));\n  };\n\n  incrementPage = () => {\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }));\n  };\n\n  handleSearchbarFormSubmit = searchQuery => {\n    this.setState({ searchQuery });\n  };\n\n  scrollToBottom = () => {\n    scroll.scrollToBottom();\n  };\n\n  render() {\n    const { images, error, status, currentImage } = this.state;\n\n    return (\n      <div className={styles.App}>\n        <Searchbar onSubmit={this.handleSearchbarFormSubmit} />\n        {/* {status === 'idle' && <div>Введіть щось</div>} */}\n\n        {status === 'rejected' && <h1>{error.message}</h1>}\n\n        {status === 'resolved' && (\n          <>\n            <ImageGallery images={images} onOpenModal={this.toggleModal} />\n            <Button onLoadMore={this.incrementPage} />\n          </>\n        )}\n\n        {status === 'pending' && (\n          <>\n            <ImageGallery images={images} onOpenModal={this.toggleModal} />\n            <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\n          </>\n        )}\n\n        {this.state.showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={currentImage.largeImageURL} alt={currentImage.tags} />\n          </Modal>\n        )}\n        <ToastContainer autoClose={3000} />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchForm__button\":\"Searchbar_SearchForm__button__wM7NY\",\"SearchForm__button_label\":\"Searchbar_SearchForm__button_label__lQViY\",\"SearchForm__input\":\"Searchbar_SearchForm__input__1-9Kh\"};"],"sourceRoot":""}